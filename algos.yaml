float:
  any:
    dummy-algo-st:
      docker-tag: ann-benchmarks-sklearn
      module: ann_benchmarks.algorithms.dummy_algo
      constructor: DummyAlgoSt
      base-args: ["@metric"]
      run-groups:
        empty:
          args: []
    dummy-algo-mt:
      docker-tag: ann-benchmarks-sklearn
      module: ann_benchmarks.algorithms.dummy_algo
      constructor: DummyAlgoMt
      base-args: ["@metric"]
      run-groups:
        empty:
          args: []

    hnswlib:
      docker-tag: ann-benchmarks-hnswlib
      module: ann_benchmarks.algorithms.hnswlib
      constructor: HnswLib
      base-args: ["@metric"]
      run-groups:
        M-4:
          arg-groups:
            - {"M": 4,  "efConstruction": 500}
          query-args: [[10, 15,20,25, 30,40, 50,60, 70,80, 90, 120, 160,200, 400, 600, 800]]
        M-8:
          arg-groups:
            - {"M": 8,  "efConstruction": 500}
          query-args: [[10, 15,20,25, 30,40, 50,60, 70,80, 90, 120, 160,200, 400, 600, 800]]
        M-12:
          arg-groups:
            - {"M": 12,  "efConstruction": 500}
          query-args: [[10, 15,20,25, 30,40, 50,60, 70,80, 90, 120, 160,200, 400, 600, 800]]
        M-16:
          arg-groups:
            - {"M": 16,  "efConstruction": 500}
          query-args: [[10, 15,20,25, 30,40, 50,60, 70,80, 90, 120, 160,200, 400, 600, 800]]
        M-24:
          arg-groups:
            - {"M": 24,  "efConstruction": 500}
          query-args: [[10, 15,20,25, 30,40, 50,60, 70,80, 90, 120, 160,200, 400, 600, 800]]
        M-36:
          arg-groups:
            - {"M": 36,  "efConstruction": 500}
          query-args: [[10, 15,20,25, 30,40, 50,60, 70,80, 90, 120, 160,200, 400, 600, 800]]
        M-48:
          arg-groups:
            - {"M": 48,  "efConstruction": 500}
          query-args: [[10, 15,20,25, 30,40, 50,60, 70,80, 90, 120, 160,200, 400, 600, 800]]
        M-64:
          arg-groups:
            - {"M": 64,  "efConstruction": 500}
          query-args: [[10, 15,20,25, 30,40, 50,60, 70,80, 90, 120, 160,200, 400, 600, 800]]
        M-96:
          arg-groups:
            - {"M": 96,  "efConstruction": 500}
          query-args: [[10, 15,20,25, 30,40, 50,60, 70,80, 90, 120, 160,200, 400, 600, 800]]

    hnsw(faiss):
      docker-tag: ann-benchmarks-faiss
      module: ann_benchmarks.algorithms.faiss_hnsw
      constructor: FaissHNSW
      base-args: ["@metric"]
      run-groups:
        M-4:
          arg-groups:
            - {"M": 4,  "efConstruction": 500}
          query-args: [[10, 15,20,25, 30,40, 50,60, 70,80, 90, 120, 160,200, 400, 600, 800]]
        M-8:
          arg-groups:
            - {"M": 8,  "efConstruction": 500}
          query-args: [[10, 15,20,25, 30,40, 50,60, 70,80, 90, 120, 160,200, 400, 600, 800]]
        M-12:
          arg-groups:
            - {"M": 12,  "efConstruction": 500}
          query-args: [[10, 15,20,25, 30,40, 50,60, 70,80, 90, 120, 160,200, 400, 600, 800]]
        M-16:
          arg-groups:
            - {"M": 16,  "efConstruction": 500}
          query-args: [[10, 15,20,25, 30,40, 50,60, 70,80, 90, 120, 160,200, 400, 600, 800]]
        M-24:
          arg-groups:
            - {"M": 24,  "efConstruction": 500}
          query-args: [[10, 15,20,25, 30,40, 50,60, 70,80, 90, 120, 160,200, 400, 600, 800]]
        M-36:
          arg-groups:
            - {"M": 36,  "efConstruction": 500}
          query-args: [[10, 15,20,25, 30,40, 50,60, 70,80, 90, 120, 160,200, 400, 600, 800]]
        M-48:
          arg-groups:
            - {"M": 48,  "efConstruction": 500}
          query-args: [[10, 15,20,25, 30,40, 50,60, 70,80, 90, 120, 160,200, 400, 600, 800]]
        M-64:
          arg-groups:
            - {"M": 64,  "efConstruction": 500}
          query-args: [[10, 15,20,25, 30,40, 50,60, 70,80, 90, 120, 160,200, 400, 600, 800]]
        M-96:
          arg-groups:
            - {"M": 96,  "efConstruction": 500}
          query-args: [[10, 15,20,25, 30,40, 50,60, 70,80, 90, 120, 160,200, 400, 600, 800]]
  euclidean:
    kgraph:
      docker-tag: ann-benchmarks-kgraph
      module: ann_benchmarks.algorithms.kgraph
      constructor: KGraph
      base-args: ["@metric"]
      run-groups:
        kgraph:
          args: [ {'reverse': -1}, True] # XXX: hard-codes save_index as True
          query-args: [[1, 2, 3, 4, 5, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100]]

#    hnsw(nmslib):
#      docker-tag: ann-benchmarks-nmslib
#      module: ann_benchmarks.algorithms.nmslib
#      constructor: NmslibReuseIndex
#      base-args: ["@metric", "hnsw"]
#      run-groups:
#        M-20:
#          arg-groups:
#            - {"M": 20, "post": 2, "efConstruction": 400}
#            - True
#            - {"ef": [2, 5, 10, 15, 20, 30, 40, 50, 70, 80, 120, 200, 400]}
#        M-12:
#          arg-groups:
#            - {"M": 12, "post": 0, "efConstruction": 400}
#            - True
#            - {"ef": [1, 2, 5, 10, 15, 20, 30, 40, 50, 70, 80, 120]}
#        M-16:
#          arg-groups:
#            - {"M": 16, "post": 0, "efConstruction": 200}
#            - True
#            - {"ef": [1, 2, 5, 10, 20, 30, 50, 70, 90, 120]}
#        M-8:
#          arg-groups:
#            - {"M": 8, "post": 0, "efConstruction": 400}
#            - True
#            - {"ef": [1, 2, 5, 10, 20, 30, 50, 70, 90, 120, 160]}
  angular:
    kgraph:
      docker-tag: ann-benchmarks-kgraph
      module: ann_benchmarks.algorithms.kgraph
      constructor: KGraph
      base-args: ["@metric"]
      run-groups:
        kgraph:
          args: [{'reverse': -1, "K": 200, "L": 300, "S": 20}, False]
          query-args: [[1, 2, 3, 4, 5, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100]]

#    hnsw(nmslib):
#      docker-tag: ann-benchmarks-nmslib
#      module: ann_benchmarks.algorithms.nmslib
#      constructor: NmslibReuseIndex
#      base-args: ["@metric", "hnsw"]
#      run-groups:
#        M-48:
#          arg-groups:
#            - {"M": 48, "post": 2, "efConstruction": 800}
#            - True # XXX: hard-codes save_index as True
#            - {"ef": [50, 70, 90, 120, 160, 200, 400, 600, 700, 800, 1000,
#              1400, 1600, 2000]}
#        M-32:
#          arg-groups:
#            - {"M": 32, "post": 2, "efConstruction": 800}
#            - True
#            - {"ef": [10, 20, 30, 40, 50, 60, 70, 80, 90, 100, 120, 140, 160,
#              200, 300, 400, 600, 700, 800, 1000, 1200, 1400, 1600, 2000]}
#        M-20:
#          arg-groups:
#            - {"M": 20, "post": 0, "efConstruction": 800}
#            - True
#            - {"ef": [10, 15, 20, 30, 40, 50, 70, 80]}
#        M-12:
#          arg-groups:
#            - {"M": 12, "post": 0, "efConstruction": 800}
#            - True
#            - {"ef": [10, 15, 20, 30, 40, 50, 70, 80]}
#        M-8:
#          arg-groups:
#            - {"M": 8, "post": 0, "efConstruction": 1200}
#            - True
#            - {"ef": [10, 15, 20, 30, 40, 50, 70, 80]}


